## 原型模型

> 原型模式是用于创建对象的一种模式，如果我们想要创建一个对象， 一种方法是先指定它的类型，然后通过类来创建这个对象。原型模式选择了另外一种方式，**我们不再关心对象的具体类型，而是找到一个对象，然后通过克隆来创建一个一模一样的对象**。



JavaScript 本身是一门**基于原型的面向对象语言**，它的对象系统就是使用原型模式来搭建的，在这里称之为**原型编程范型**也许更合适。



JavaScript 中的**根对象是 Object.prototype 对象**，他是一个空的对象。我们在 JavaScript 遇到的每个对象，实际上都是从 Object.prototype 对象克隆而来的， Object.prototype 对象就是它们的原型。



比如下面的 obj1 对象和 obj2 对象： 

```js
var obj1 = new Object(); 
var obj2 = {}; 
var obj3 = Object.create(obj2);
// 可以利用 ECMAScript 5 提供的 Object.getPrototypeOf 来查看这两个对象的原型： 
console.log( Object.getPrototypeOf( obj1 ) === Object.prototype ); // 输出：true 
console.log( Object.getPrototypeOf( obj2 ) === Object.prototype ); // 输出：true 
console.log( Object.getPrototypeOf( obj3 ) === Object.prototype ); //false
console.log( Object.getPrototypeOf( obj3 ) === obj2 ); 
```



**原型编程范型基本规则**

- 所有的数据都是对象。 

- 要得到一个对象，不是通过实例化类，而是找到一个对象作为原型并克隆它。

- 对象会记住它的原型。 
- 如果对象无法响应某个请求，它会把这个请求委托给它自己的原型。



JavaScript 给对象提供了一个名为__proto__的隐藏属性，某个对象的__proto__属性默认会指 向它的构造器的原型对象，即`{Constructor}.prototype`

实际上，__proto__就是对象跟“对象构造器的原型”联系起来的纽带。正因为对象要通过 __proto__属性来记住它的构造器的原型。



**实例**:创建飞机分身

```js
var Plane = function(){
 this.blood = 100;
 this.attackLevel = 1;
 this.defenseLevel = 1;
};
var plane = new Plane();
plane.blood = 500;
plane.attackLevel = 10;
plane.defenseLevel = 7;

// ECMAScript 5提供了Object.create方法，可以用来克隆对象
var clonePlane = Object.create( plane );
console.log( clonePlane ); // 输出：Object {blood: 500, attackLevel: 10, defenseLevel: 7}
// 在不支持 Object.create 方法的浏览器中，则可以使用以下代码：
Object.create = Object.create || function( obj ){
 var F = function(){};
 F.prototype = obj;
 return new F();
} 
```



